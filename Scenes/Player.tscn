[gd_scene load_steps=25 format=3 uid="uid://c6umigpttu0tc"]

[ext_resource type="Script" path="res://Scripts/Player/360 Movement.gd" id="1_dvh5r"]
[ext_resource type="Texture2D" uid="uid://dvwuerayceb4i" path="res://Images/Player/Character/51473563858_e00396a563_b.jpg" id="2_ej13g"]
[ext_resource type="Script" path="res://Scripts/Player/Hitbox.gd" id="3_7vs75"]
[ext_resource type="Texture2D" uid="uid://d0pb236d5yble" path="res://Images/Player/GFX/Dust2.png" id="3_a6p3w"]
[ext_resource type="Script" path="res://Scripts/Player/GFX/LR.gd" id="3_jyttq"]
[ext_resource type="Texture2D" uid="uid://ihj0s047k5t5" path="res://Images/Player/GFX/Dust1.png" id="4_a8cyj"]
[ext_resource type="Script" path="res://Scripts/Player/GFX/RunDust2.gd" id="4_rw4vl"]
[ext_resource type="Script" path="res://Scripts/Player/GFX/RunDust.gd" id="5_ixs52"]
[ext_resource type="AudioStream" uid="uid://dotue2tayy81c" path="res://Sounds/Player/Jump.wav" id="6_qrngc"]
[ext_resource type="AudioStream" uid="uid://c7cgy8v76oixp" path="res://Sounds/Player/Step.wav" id="7_gc6ea"]
[ext_resource type="Script" path="res://Scripts/HUD/PlayerSpeed.gd" id="8_4fvp1"]
[ext_resource type="Script" path="res://Scripts/Player/Wall.gd" id="8_asppx"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b21ds"]
size = Vector2(351.5, 73.1429)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_4a3mx"]
particle_flag_disable_z = true
gravity = Vector3(0, 98, 0)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_tu4fa"]
particles_animation = true
particles_anim_h_frames = 2
particles_anim_v_frames = 2
particles_anim_loop = true

[sub_resource type="Curve" id="Curve_0scyf"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.252959, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_lorck"]
curve = SubResource("Curve_0scyf")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_lubta"]
particle_flag_disable_z = true
spread = 0.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_lorck")
anim_speed_min = 4.0
anim_speed_max = 4.0

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_1vj6n"]

[sub_resource type="Curve" id="Curve_28fb0"]
bake_resolution = 5
_data = [Vector2(0, 0), 0.0, 6.3864, 0, 0, Vector2(0.25, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_dqbps"]
curve = SubResource("Curve_28fb0")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ho1ic"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(1, -1, 1)
angle_min = 720.0
angle_max = 720.0
velocity_pivot = Vector3(0, 100, 0)
direction = Vector3(0, 1000, 0)
spread = 0.0
gravity = Vector3(0, -35, 0)
attractor_interaction_enabled = false
scale_curve = SubResource("CurveTexture_dqbps")
anim_speed_min = 4.0
anim_speed_max = 4.0
collision_mode = 1
collision_friction = 0.0
collision_bounce = 0.29
collision_use_scale = true

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_krp03"]
radius = 12.0
height = 42.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rn333"]
size = Vector2(38, 4)

[node name="Fenc 360" type="CharacterBody2D"]
process_mode = 1
top_level = true
z_index = 10
texture_filter = 1
collision_layer = 0
floor_stop_on_slope = false
floor_constant_speed = true
floor_max_angle = 3.14159
floor_snap_length = 30.0
platform_floor_layers = 4278190080
platform_wall_layers = 1
script = ExtResource("1_dvh5r")

[node name="PlaceHolder Fennec" type="Sprite2D" parent="."]
visibility_layer = 3
z_index = 10
position = Vector2(0, 7.62939e-06)
scale = Vector2(0.0351391, 0.0410156)
texture = ExtResource("2_ej13g")
script = ExtResource("3_jyttq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 19.5)
scale = Vector2(0.0351391, 0.0410156)
shape = SubResource("RectangleShape2D_b21ds")
disabled = true

[node name="JumpDust1" type="GPUParticles2D" parent="CollisionShape2D"]
position = Vector2(-165.75, -190.048)
emitting = false
sub_emitter = NodePath(".")
process_material = SubResource("ParticleProcessMaterial_4a3mx")
texture = ExtResource("4_a8cyj")

[node name="RunDust" type="GPUParticles2D" parent="CollisionShape2D"]
show_behind_parent = true
material = SubResource("CanvasItemMaterial_tu4fa")
sub_emitter = NodePath(".")
process_material = SubResource("ParticleProcessMaterial_lubta")
texture = ExtResource("3_a6p3w")
fixed_fps = 60
interpolate = false
script = ExtResource("4_rw4vl")

[node name="WalkDust" type="GPUParticles2D" parent="CollisionShape2D"]
light_mask = 2
visibility_layer = 2
material = SubResource("CanvasItemMaterial_1vj6n")
emitting = false
amount = 1
sub_emitter = NodePath(".")
process_material = SubResource("ParticleProcessMaterial_ho1ic")
texture = ExtResource("4_a8cyj")
preprocess = 1.4
fixed_fps = 60
draw_order = 0
script = ExtResource("5_ixs52")

[node name="HitBox" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_krp03")
debug_color = Color(0.387981, 0.355622, 1, 0.42)
script = ExtResource("3_7vs75")

[node name="Cam" type="Camera2D" parent="."]
process_mode = 1
texture_repeat = 1
position = Vector2(1.33514e-05, -1.19209e-06)
zoom = Vector2(1.5, 1.5)
process_callback = 0
position_smoothing_enabled = true
position_smoothing_speed = 35.0

[node name="Jump" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_qrngc")

[node name="M1Step" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_gc6ea")
pitch_scale = 5.72

[node name="Wall" type="Area2D" parent="."]
disable_mode = 2
collision_layer = 0
script = ExtResource("8_asppx")

[node name="Sens" type="CollisionShape2D" parent="Wall"]
position = Vector2(0, -7)
shape = SubResource("RectangleShape2D_rn333")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -110.0
offset_top = 5.0
offset_right = -70.0
offset_bottom = 45.0

[node name="CanvasLayer" type="CanvasLayer" parent="Control"]

[node name="Label" type="Label" parent="Control/CanvasLayer"]
offset_left = 1.0
offset_top = 57.0
offset_right = 41.0
offset_bottom = 80.0
text = "Hai!!!"
script = ExtResource("8_4fvp1")

[connection signal="finished" from="CollisionShape2D/RunDust" to="CollisionShape2D/RunDust" method="_on_finished"]
[connection signal="finished" from="CollisionShape2D/WalkDust" to="CollisionShape2D/WalkDust" method="_on_finished"]
[connection signal="body_entered" from="Wall" to="." method="_is_wall_touch"]
[connection signal="body_exited" from="Wall" to="." method="_wall_not_touch"]
